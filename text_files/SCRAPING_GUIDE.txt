================================================================================
                    WEB SCRAPING GUIDE
         Sentiment Analysis Dashboard - Development Version
================================================================================

ðŸ“– TABLE OF CONTENTS
--------------------
1. How Web Scraping Works
2. What URLs Work Best
3. Step-by-Step Instructions
4. Troubleshooting
5. Examples & Test Cases
6. Understanding Results
7. API Usage

================================================================================
1. HOW WEB SCRAPING WORKS
================================================================================

The scraper:
âœ… Fetches HTML content from the URL
âœ… Checks robots.txt to respect website policies
âœ… Extracts visible text from common HTML elements
âœ… Filters text by length (20-2000 characters)
âœ… Analyzes sentiment of each text snippet
âœ… Saves results to database
âœ… Automatically deduplicates

Limitations:
âŒ Cannot scrape JavaScript-heavy sites (React, Angular, Vue)
âŒ Cannot bypass login walls
âŒ Cannot handle anti-scraping protection
âŒ May not find structured reviews on all sites

================================================================================
2. WHAT URLs WORK BEST
================================================================================

âœ… GOOD URLs (High Success Rate):
---------------------------------
News Sites:
  â€¢ https://www.bbc.com/news
  â€¢ https://www.reuters.com
  â€¢ https://www.theguardian.com
  â€¢ https://www.npr.org

Blog Posts:
  â€¢ https://medium.com/@author/article
  â€¢ https://dev.to/author/article
  â€¢ Personal blogs with simple HTML

Simple Pages:
  â€¢ https://example.com
  â€¢ Static HTML pages
  â€¢ Documentation sites

âŒ DIFFICULT URLs (Low Success Rate):
--------------------------------------
  â€¢ Social media (Twitter, Facebook, Instagram)
  â€¢ E-commerce sites (Amazon, eBay) - anti-scraping
  â€¢ Sites requiring login
  â€¢ Single-page applications (SPAs)
  â€¢ Sites with CAPTCHA
  â€¢ Sites with heavy JavaScript

================================================================================
3. STEP-BY-STEP INSTRUCTIONS
================================================================================

METHOD 1: Using the Dashboard (Easiest)
----------------------------------------
1. Open your browser
2. Go to: http://localhost:5000
3. Find the "ðŸŒ Scrape Reviews" card (bottom left)
4. Enter a URL in the "Website URL" field
   Example: https://www.bbc.com/news
5. Set "Max Reviews" (1-50, default is 10)
6. Click "Scrape & Analyze" button
7. Wait for the result message:
   - Green = Success
   - Red = Error (try different URL)
8. Check "Recent Reviews" section to see results
9. Check "Analytics Overview" for updated statistics

METHOD 2: Using the API (Advanced)
-----------------------------------
POST http://localhost:5000/api/scrape
Content-Type: application/json

{
  "url": "https://www.bbc.com/news",
  "max_reviews": 10
}

Response (Success):
{
  "message": "Scraping completed successfully",
  "total_found": 10,
  "saved": 8,
  "duplicates": 2,
  "url": "https://www.bbc.com/news",
  "results": [...]
}

Response (Error):
{
  "error": "No reviews found at this URL"
}

METHOD 3: Using Python Script
------------------------------
Run the test script:
  python test_scraping.py

Or use Python directly:
  import requests
  response = requests.post(
      'http://localhost:5000/api/scrape',
      json={'url': 'https://www.bbc.com/news', 'max_reviews': 10}
  )
  print(response.json())

================================================================================
4. TROUBLESHOOTING
================================================================================

PROBLEM: "No reviews found at this URL"
SOLUTION:
  â€¢ Try a different URL
  â€¢ Check if the site has readable text content
  â€¢ Some sites block automated scraping
  â€¢ Try a news article or blog post instead

PROBLEM: "Scraping failed: [error message]"
SOLUTION:
  â€¢ Check if URL is valid (must start with http:// or https://)
  â€¢ Check your internet connection
  â€¢ Site might be blocking requests
  â€¢ Try a simpler URL like https://example.com

PROBLEM: "Network error occurred"
SOLUTION:
  â€¢ Check if the server is running (python app_dev.py)
  â€¢ Check if you can access http://localhost:5000
  â€¢ Check your firewall settings

PROBLEM: Only finding 1-2 reviews
SOLUTION:
  â€¢ This is normal for simple pages
  â€¢ Try news sites or blogs for more content
  â€¢ The scraper looks for text snippets 20-2000 chars long
  â€¢ Not all pages have multiple text blocks

PROBLEM: All reviews show "neutral" sentiment
SOLUTION:
  â€¢ The text might not contain sentiment keywords
  â€¢ Try URLs with opinion pieces or reviews
  â€¢ News articles are often neutral
  â€¢ Product reviews work better for sentiment

================================================================================
5. EXAMPLES & TEST CASES
================================================================================

EXAMPLE 1: News Site (BBC)
---------------------------
URL: https://www.bbc.com/news
Expected: 5-10 text snippets
Sentiment: Mostly neutral (news is objective)
Success Rate: High âœ…

EXAMPLE 2: Simple Page
----------------------
URL: https://example.com
Expected: 1 text snippet
Sentiment: Neutral
Success Rate: High âœ…

EXAMPLE 3: Blog Post
--------------------
URL: https://medium.com/@author/article
Expected: 3-8 paragraphs
Sentiment: Varies by content
Success Rate: Medium âš ï¸

EXAMPLE 4: Wikipedia
--------------------
URL: https://www.wikipedia.org/wiki/Sentiment_analysis
Expected: May fail or find few results
Sentiment: Neutral (encyclopedic)
Success Rate: Low âŒ

TEST COMMAND:
-------------
Run this to test multiple URLs:
  python test_scraping.py

================================================================================
6. UNDERSTANDING RESULTS
================================================================================

SUCCESS MESSAGE:
"Found 10 reviews, saved 8 new reviews (2 duplicates skipped)"

Breakdown:
  â€¢ Found 10 reviews = Total text snippets extracted
  â€¢ Saved 8 new reviews = New unique reviews added to database
  â€¢ 2 duplicates skipped = Reviews already in database

SENTIMENT RESULTS:
  â€¢ Positive: Text contains positive keywords (love, great, amazing)
  â€¢ Negative: Text contains negative keywords (hate, terrible, bad)
  â€¢ Neutral: No strong sentiment keywords found

EMOTION RESULTS:
  â€¢ happy, sad, angry, surprised, fear, love, neutral

CONFIDENCE SCORE:
  â€¢ 0.5 = Neutral/uncertain
  â€¢ 0.6-0.8 = Moderate confidence
  â€¢ 0.8-1.0 = High confidence

================================================================================
7. API USAGE
================================================================================

SCRAPE ENDPOINT:
----------------
POST /api/scrape
Content-Type: application/json

Request Body:
{
  "url": "https://example.com",      // Required: URL to scrape
  "max_reviews": 10                   // Optional: 1-50, default 10
}

Response (200 OK):
{
  "message": "Scraping completed successfully",
  "total_found": 10,                  // Total reviews found
  "saved": 8,                         // New reviews saved
  "duplicates": 2,                    // Duplicates skipped
  "url": "https://example.com",       // Original URL
  "results": [                        // Analysis results
    {
      "sentiment": "positive",
      "emotion": "happy",
      "confidence": 0.85
    }
  ]
}

Response (404 Not Found):
{
  "error": "No reviews found at this URL"
}

Response (400 Bad Request):
{
  "error": "URL is required"
}
{
  "error": "Invalid URL format (must start with http:// or https://)"
}

Response (500 Internal Server Error):
{
  "error": "Scraping failed: [error details]"
}

GET REVIEWS ENDPOINT:
---------------------
GET /api/reviews?page=1&per_page=20

Response:
{
  "reviews": [...],                   // Array of review objects
  "total": 50,                        // Total reviews in database
  "pages": 3,                         // Total pages
  "current_page": 1,                  // Current page number
  "per_page": 20                      // Reviews per page
}

================================================================================
8. TIPS & BEST PRACTICES
================================================================================

âœ… DO:
  â€¢ Start with simple URLs (news sites, blogs)
  â€¢ Use max_reviews between 5-20 for testing
  â€¢ Check the "Recent Reviews" section after scraping
  â€¢ Try different types of content
  â€¢ Be patient - scraping can take 5-15 seconds

âŒ DON'T:
  â€¢ Don't scrape sites that explicitly forbid it
  â€¢ Don't set max_reviews too high (>50)
  â€¢ Don't expect perfect results from all sites
  â€¢ Don't scrape the same URL repeatedly (duplicates)
  â€¢ Don't scrape sites requiring login

GOOD PRACTICES:
  â€¢ Test with example.com first
  â€¢ Check robots.txt of sites you want to scrape
  â€¢ Respect website terms of service
  â€¢ Use reasonable max_reviews values
  â€¢ Monitor the console logs for errors

================================================================================
9. QUICK REFERENCE
================================================================================

START SERVER:
  python app_dev.py

OPEN DASHBOARD:
  http://localhost:5000

TEST SCRAPING:
  python test_scraping.py

SCRAPE VIA API:
  curl -X POST http://localhost:5000/api/scrape \
    -H "Content-Type: application/json" \
    -d '{"url":"https://www.bbc.com/news","max_reviews":10}'

VIEW REVIEWS:
  http://localhost:5000/api/reviews

GOOD TEST URLs:
  â€¢ https://www.bbc.com/news
  â€¢ https://example.com
  â€¢ https://www.reuters.com

================================================================================
10. FREQUENTLY ASKED QUESTIONS
================================================================================

Q: Why am I not getting any reviews?
A: The site might not have extractable text, or it blocks scraping.
   Try a different URL like https://www.bbc.com/news

Q: Why are all sentiments "neutral"?
A: The text might not contain sentiment keywords. Try opinion pieces
   or product reviews instead of news articles.

Q: Can I scrape Amazon/eBay reviews?
A: No, these sites have anti-scraping protection. They will block
   automated requests.

Q: How many reviews can I scrape?
A: Maximum 50 per request. The scraper will extract what it finds,
   up to your specified limit.

Q: Why does it say "duplicates skipped"?
A: The system automatically detects and skips reviews that are
   already in the database (based on text hash).

Q: Can I scrape social media?
A: No, social media sites require authentication and have strong
   anti-scraping measures.

Q: How long does scraping take?
A: Usually 2-10 seconds, depending on the site and number of reviews.

Q: Is this legal?
A: Scraping public web pages is generally legal, but always respect
   robots.txt and terms of service. This tool is for educational
   and development purposes.

================================================================================
NEED HELP?
================================================================================

Check the logs:
  â€¢ Console output shows detailed scraping progress
  â€¢ Look for "INFO" messages for success
  â€¢ Look for "ERROR" messages for failures

Check the documentation:
  â€¢ docs/README_DEV.md - Full documentation
  â€¢ docs/QUICKSTART.md - Quick start guide

Test the system:
  â€¢ python test_scraping.py - Test multiple URLs
  â€¢ http://localhost:5000/api/health - Check server status

================================================================================
END OF GUIDE
================================================================================
